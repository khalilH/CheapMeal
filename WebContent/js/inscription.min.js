$(function(){function e(e,t,i,n,r,o){$.ajax({type:"POST",url:"user/inscription",data:"prenom="+e+"&nom="+t+"&login="+i+"&mdp="+n+"&confirmationMdp="+r+"&email="+o,dataType:"json",success:a,error:function(e,a,t){alert(e+" "+a+" "+t)}})}function a(e){return void 0==e.erreur?(console.log("je passe dans erreur"),i(e.message),void(window.location.href="connexion.html")):void t(e.message)}function t(e){var a=$("#AlertMessage");a.html("<div class='alert alert-danger' id='ErrorMessage'><a class='close' data-dismiss='alert' aria-label='close'>×</a>"+e+"</div>")}function i(e){var a=$("#AlertMessage");console.log(e+" toz"),a.html("<div class='alert alert-success' id='SuccessMessage'><a class='close' data-dismiss='alert' aria-label='close'>×</a>"+e+"</div>")}return 1===isConnected()?void(window.location.href="accueil.html"):($.validator.addMethod("pwdMatch",function(e,a,t){return console.log("confirmation="+e+"  arg="+t.value.toString()),e==t.value}),$.validator.addMethod("emailValide",function(e){var a=/^[a-zA-Z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,4}$/;return a.test(e)}),void $("#formulaire_inscription").validate({rules:{prenom:{required:!0},nom:{required:!0},nom_utilisateur:{required:!0},mot_de_passe:{required:!0,minlength:6},confirmation_mdp:{required:!0,pwdMatch:mot_de_passe},email:{required:!0,emailValide:email}},messages:{prenom:"<p class='text-nowrap'>Prénom manquant</p>",nom:"<p class='text-nowrap'>Nom manquant</p>",nom_utilisateur:"<p class='text-nowrap'>Nom d'utilisateur manquant</p>",mot_de_passe:{required:"<p class='text-nowrap'>Mot de passe manquant</p>",minlength:"<p class='text-wrap'>Doit contenir au moins 6 caractères</p>"},confirmation_mdp:{required:"<p class='text-wrap'>Les mots de passe doivent correspondre</p>",pwdMatch:"<p class='text-wrap'>Les mots de passe doivent correspondre</p>"},email:{required:"<p class='text-nowrap'>Email manquant</p>",emailValide:"<p class='text-nowrap'>Email invalide</p>"}},tooltip_options:{prenom:{placement:"left",html:!0},nom:{placement:"right",html:!0},nom_utilisateur:{placement:"right",html:!0},email:{placement:"right",html:!0},mot_de_passe:{placement:"left",html:!0},confirmation_mdp:{placement:"right",html:!0}},submitHandler:function(a){e(a.prenom.value,a.nom.value,a.nom_utilisateur.value,a.mot_de_passe.value,a.confirmation_mdp.value,a.email.value)}}))});